<!DOCTYPE>
<HTML>
<HEAD>
<TITLE>JUNO'S MOMOS</TITLE>
<!--<link rel="stylesheet" type="text/css" href="style22.css">-->
<script src="http://code.jquery.com/jquery-1.11.3.min.js"> </script>	
	
	
</HEAD>
	
<BODY>
<!--
<div class="pricing-table">
	<div class="pricing-card">
	<h3 class="pricing-card-header"> SILVER </h3>
	
	<div class="price">
		<sup>₹</sup><span>80</span></div>
	<ul>
		<li><strong>1/2 </strong>MOMO</li>
		<li><strong>1/2</strong>PAV-BHAJI</li>
		<li><strong>1</strong>WATER-BOTTLE</li>
		<li><strong>1</strong>KURKURE/LAYS</li>
		<li><strong>1</strong>VADA-PAV</li>	
		</ul>	
<a href="#" class="order-btn">Order Now</a>		

	</div>
	
	<div class="pricing-card">
	<h3 class="pricing-card-header"> GOLD </h3>
	
	<div class="price">
		<sup>₹</sup><span>150</span></div>
	<ul>
		<li><strong>1 </strong>MOMO</li>
		<li><strong>1</strong>PAAV-BHAJI</li>
		<li><strong>1</strong>KURKURE/LAYS</li>
		<li><strong>1</strong>SANDWICH</li>
		<li><strong>1</strong>COLD-DRINK</li>	
		</ul>	
<a href="#" class="order-btn">Order Now</a>		

	</div>
	
	<div class="pricing-card">
	<h3 class="pricing-card-header">PALATINUM </h3>
	
	<div class="price">
		<sup>₹</sup><span>250</span></div>
	<ul>
		<li><strong>2 </strong>MOMO</li>
		<li><strong>1</strong>PAAV-BHAJI</li>
		<li><strong>2</strong>SANDWICH</li>
		<li><strong>1</strong>COLD-DRINK</li>
		<li><strong>1</strong>VADA-PAAV</li>	
		</ul>	
<a href="#" class="order-btn">Order Now</a>		

	</div>
	
	<div class="pricing-card">
	<h3 class="pricing-card-header"> DAIMOND </h3>
	
	<div class="price">
		<sup>₹</sup><span>350</span></div>
	<ul>
		<li><strong>3 </strong>MOMO</li>
		<li><strong>1</strong>PAAV-BHAJI</li>
		<li><strong>1</strong>PIZZA</li>
		<li><strong>1</strong>COLD-DRINK</li>
		<li><strong></strong>PASTA</li>	
		</ul>	
<a href="#" class="order-btn">Order Now</a>		

	</div>
	
	</div>
	
-->
<div>
	<ul>
	<li><a class="add-to-cart" href="#" data-name="apple" data-price="30"> apple $30</a></li>
	<li><a class="add-to-cart" href="#" data-name="baba" data-price="20"> apple $20</a></li>
	<li><a class="add-to-cart" href="#" data-name="saba" data-price="20"> apple $20</a></li>
	<li><a class="add-to-cart" href="#" data-name="sfff" data-price="10"> apple $10</a></li>
	<li><a class="add-to-cart" href="#" data-name="sba" data-price="50"> apple $50</a></li>	
	</ul>
	
	<button id="clear-cart"> clear cart</button?>
	</div>	
	<div>
	<ul id="show-cart">
		<li>tfggh</li>
		</ul>
	<div> total cart:$<span id="total-cart"></span></div>
	</div>

	
	<script>
		
		$(".add-to-cart").click(function(event){
			event.preventDefault();
			var name = $(this).attr("data-name");
			var price = number($(this).attr("data-price"));
			addItemToCart(name, price, 1);
			displayCart();
		});
	
		
		function displayCart(){
//			console.log("***Display cart***");
			var cartArray = listCart();
//			console.log("***count cart :"+cartArray.length);
			var output = "";
			for (var i in  cartArray){
				output += "<li>"+cartArray[i].name+" "+cartArray[i].count+"</li>"
			}
			$("#show-cart").html(output);
			$("#total-cart").html( totalCart() );
		}
		
	var cart = [];
	var Item = function(name, price, count){
		this.name = name
		this.price = price
		this.count = count
	};
		
 function addItemToCart(name, price, count){
	 for (var i in cart){
		 if (cart[i].name === name){
			 cart[i].count += count;
			 return;
		 }
		 
	 }
	 var item = new Item(name, price, count);
	 cart.push(item);
	 saveCart();
 }
		
		
		
	function removeItemFromCart(name){
		for (var i in cart){
			if (cart[i].name === name){
				cart[i].count --;
				if (cart[i].count === 0){
				 cart.splice(i, 1);
				}
				break;
				
			}
				
		}
		saveCart();
	}	
		
		function removeItemFromCartAll(name){
		for (var i in cart){
			if (cart[i].name === name){
				cart.splice(i, 1);
				break;
				
			}
				
}
			saveCart();
	}
	
	function clearCart(){
		cart = [];
		saveCart();
	}

		
		function countCart(){
			
			var totalCount = 0;
			for(var i in cart){
				totalCount += cart[i].count;
			}
			return totalCount;
		}
		
		
function totalCart(){
	var totalCost = 0;
	for (var i in cart){
		totalCost += cart[i].price;
	}
	return totalCost;
}
		
		function listCart(){
			var cartCopy = [];
			for (var i in cart){
				var item = cart[i];
				var itemCopy = {};
				for (var p in item){
					itemCopy[p] = item[p];
					
				}
			cartCopy.push(itemCopy);
			}
			return cartCopy;
			
		}
		function saveCart(){
			localStorage.setItem("shoppingCart", JSON.stringify(cart));

		}
		function loadCart(){
			cart = JSON.parse(localStorage.getItem("shoppingCart"));
		}
		loadCart();
		displayCart();
		
	
	</script>
</BODY>
	
</HTML>






